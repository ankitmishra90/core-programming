package Stock;

import java.io.FileReader;
import java.io.PrintWriter;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.Map;

import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;

public class StockReport {
	static void write() throws Exception {
		JSONObject jo = new JSONObject();
		jo.put("stock", "report");
		Map map = new LinkedHashMap();
		map.put("Stock Names", "SBI");
		map.put("Number of Share", 1000.00);
		map.put("Share of price", 251.4);
		jo.put("StockReport", map);
		PrintWriter pw = new PrintWriter("AnkitFileName.json");
		pw.write(jo.toJSONString());
		pw.flush();
		pw.close();

	}

	static void read() throws Exception {
		Object ob = new JSONParser().parse((new FileReader("AnkitFileName.json")));
		JSONObject jo = (JSONObject) ob;
		Map map = (Map) jo.get("StockReport");
		Iterator<Map.Entry> itr = map.entrySet().iterator();
		double s = 0,p = 0;
		while (itr.hasNext()) {
			
			Map.Entry me = itr.next();
			System.out.println(me.getKey() + ":" + me.getValue());
			if ("Number of Share".equalsIgnoreCase((String) me.getKey())) {
            s=(double)me.getValue();
			}
			if ("Share of price".equalsIgnoreCase((String) me.getKey())) {
                 p=(double)me.getValue();
			}
			System.out.println("Total:"+p*s);
		}

	}


	public static void main(String[] ar) throws Exception {
		write();
		read();
	}
}
